<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>NotAldim | V50 Pro</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap');
        :root { --blue: #0095f6; --bg: #000; --card: #161616; --border: #262626; --red: #ff3b30; --green: #2ecc71; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { background: var(--bg); color: white; font-family: 'Plus Jakarta Sans', sans-serif; margin: 0; padding-bottom: 85px; overflow-x: hidden; }
        
        /* Loading & Zoom */
        #loading { position:fixed; inset:0; background:rgba(0,0,0,0.9); z-index:10000; display:none; flex-direction:column; align-items:center; justify-content:center; }
        .p-bar { width: 70%; max-width: 250px; background: #222; height: 6px; border-radius: 10px; overflow: hidden; margin: 15px 0; }
        #p-fill { width: 0%; height: 100%; background: var(--blue); box-shadow: 0 0 15px var(--blue); transition: width 0.3s; }
        #zoom { position:fixed; inset:0; background:rgba(0,0,0,0.98); z-index:10001; display:none; align-items:center; justify-content:center; backdrop-filter: blur(10px); }

        /* General UI */
        .page { display: none; padding: 15px; max-width: 500px; margin: 0 auto; animation: fadeIn 0.4s ease; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .glass-card { background: var(--card); border: 1px solid var(--border); border-radius: 24px; padding: 20px; margin-bottom: 20px; }
        input, textarea, select { width: 100%; background: #080808; border: 1px solid var(--border); padding: 14px; border-radius: 16px; color: white; margin-bottom: 12px; font-size: 14px; transition: 0.3s; }
        input:focus { border-color: var(--blue); }
        button { width: 100%; background: var(--blue); border: none; border-radius: 16px; color: white; padding: 14px; font-weight: 800; cursor: pointer; transition: 0.2s; }
        button:active { transform: scale(0.96); }

        /* Social Cards */
        .note-card { background: var(--card); border: 1px solid var(--border); border-radius: 24px; padding: 15px; margin-bottom: 25px; }
        .card-header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; cursor: pointer; }
        .card-img { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid var(--blue); padding: 2px; }
        .m-preview { width: 100%; border-radius: 18px; margin-top: 10px; max-height: 400px; object-fit: cover; cursor: pointer; border: 1px solid var(--border); }
        
        .social-btns { display: flex; gap: 15px; margin-top: 15px; border-top: 1px solid #222; padding-top: 15px; }
        .s-btn { cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 6px; padding: 8px 14px; border-radius: 12px; background: #080808; border: 1px solid #222; }
        .voted-up { color: var(--green); border-color: var(--green); }
        .voted-down { color: var(--red); border-color: var(--red); }

        /* Chat & Users List */
        .user-row { display: flex; align-items: center; gap: 12px; padding: 12px; border-radius: 16px; margin-bottom: 8px; background: #080808; border: 1px solid var(--border); cursor: pointer; transition: 0.2s; }
        .user-row:hover { background: #111; }
        .user-row img { width: 45px; height: 45px; border-radius: 50%; object-fit: cover; }
        .msg-bubble { margin-bottom: 8px; padding: 10px 16px; border-radius: 20px; max-width: 85%; font-size: 14px; line-height: 1.4; word-wrap: break-word; }
        
        .nav { position: fixed; bottom: 0; width: 100%; background: rgba(0,0,0,0.9); backdrop-filter: blur(15px); border-top: 1px solid var(--border); display: flex; justify-content: space-around; padding: 18px 0; z-index: 1000; }
        .nav-i { font-size: 26px; cursor: pointer; opacity: 0.3; transition: 0.3s; }
        .nav-i.active { opacity: 1; color: var(--blue); transform: translateY(-5px); }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="zoom" onclick="this.style.display='none'"><div id="z-in"></div></div>
    <div id="loading"><div id="p-txt" style="color:var(--blue); font-weight:800; font-size:24px;">0%</div><div class="p-bar"><div id="p-fill"></div></div></div>

    <div id="auth-area">
        <div id="login-p" class="page active">
            <div class="glass-card" style="margin-top:80px; text-align:center;">
                <h1 style="font-weight:800; font-size:36px; margin:0;">NotAldim</h1>
                <p style="color:#666; font-size:14px; margin-bottom:30px;">Digital Social Hub</p>
                <input type="text" id="l-u" placeholder="Kullanƒ±cƒ± Adƒ±" onkeydown="if(event.key==='Enter') login()">
                <input type="password" id="l-p" placeholder="≈ûifre" onkeydown="if(event.key==='Enter') login()">
                <button onclick="login()">Giri≈ü Yap</button>
                <p onclick="goAuth('reg-p')" style="color:var(--blue); font-size:14px; cursor:pointer; margin-top:20px;">Yeni bir hesap olu≈ütur</p>
                <p onclick="goAuth('forgot-p')" style="color:#444; font-size:12px; cursor:pointer; margin-top:10px;">≈ûifremi unuttum</p>
            </div>
        </div>
        <div id="reg-p" class="page"><div class="glass-card"><h2>Kaydol</h2><input type="text" id="r-u" placeholder="Kullanƒ±cƒ± Adƒ±" onkeydown="if(event.key==='Enter') register()"><input type="email" id="r-m" placeholder="E-Posta"><input type="password" id="r-p" placeholder="≈ûifre"><button onclick="register()">Kayƒ±t Ol</button><p onclick="goAuth('login-p')" style="text-align:center; cursor:pointer; margin-top:15px; color:#666;">Geri D√∂n</p></div></div>
        <div id="forgot-p" class="page"><div class="glass-card"><h2>≈ûifre Hatƒ±rlat</h2><input type="text" id="f-u" placeholder="Kullanƒ±cƒ± Adƒ±"><button onclick="forgot()">Mail G√∂nder</button><p onclick="goAuth('login-p')" style="text-align:center; cursor:pointer; margin-top:15px; color:#666;">Geri D√∂n</p></div></div>
    </div>

    <div id="app" class="hidden">
        <div id="page-home" class="page active"><h2>Akƒ±≈ü</h2><div id="note-list"></div></div>
        
        <div id="page-add" class="page">
            <h2>Yeni Payla≈üƒ±m</h2>
            <select id="m-type" onchange="toggleM()"><option value="text">Sadece Yazƒ±</option><option value="media">Fotoƒüraf / Video</option></select>
            <select id="m-vis"><option value="public">Herkese A√ßƒ±k</option><option value="private">Sadece Ben</option></select>
            <input type="text" id="nt-t" placeholder="Ba≈ülƒ±k"><textarea id="nt-b" rows="4" placeholder="Neler oluyor?"></textarea>
            <div id="m-area" class="hidden"><input type="file" id="m-file" accept="image/*,video/*"></div>
            <button onclick="save()">Payla≈ü</button>
        </div>

        <div id="page-msg" class="page">
            <h2>Mesajlar</h2>
            <div id="chat-list"></div>
            <div id="chat-box" class="hidden">
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:15px;">
                    <span onclick="closeChat()" style="cursor:pointer; font-size:20px;">‚¨Ö</span>
                    <h3 id="chat-with-name" style="margin:0;"></h3>
                </div>
                <div id="chat-messages" style="height:400px; overflow-y:auto; background:#080808; padding:15px; border-radius:24px; margin-bottom:15px; display:flex; flex-direction:column;"></div>
                <div style="display:flex; gap:10px;"><input id="msg-input" placeholder="Mesajƒ±nƒ± yaz..."><button style="width:70px;" onclick="sendMsg()">‚û§</button></div>
            </div>
        </div>

        <div id="page-noti" class="page"><h2>Bildirimler</h2><div id="noti-list"></div></div>

        <div id="page-admin" class="page"><h2>üõ°Ô∏è Komuta Merkezi</h2><div style="overflow-x:auto;"><table style="width:100%; background:#080808; border-radius:15px;"><tbody id="ad-table"></tbody></table></div><div id="ad-detail" class="hidden"></div></div>

        <div id="page-prof" class="page">
            <div class="glass-card" style="text-align:center;">
                <img id="p-u-img" style="width:100px; height:100px; border-radius:50%; object-fit:cover; border:3px solid var(--blue); padding:3px; cursor:pointer;" onclick="if(viewU==cur.user) document.getElementById('p-file').click()">
                <input type="file" id="p-file" class="hidden" onchange="updateProfile(this)">
                <h2 id="p-u-name" style="margin:10px 0 5px 0;"></h2>
                <div style="display:flex; justify-content:center; gap:30px; margin-bottom:20px; font-size:14px;">
                    <div onclick="showUsersList('followers')" style="cursor:pointer;"><b>Takip√ßi</b><br><span id="p-followers">0</span></div>
                    <div onclick="showUsersList('following')" style="cursor:pointer;"><b>Takip</b><br><span id="p-following">0</span></div>
                </div>
                <div id="my-prof-actions" class="hidden">
                    <input type="password" id="p-new-pw" placeholder="Yeni ≈ûifre">
                    <button onclick="updateMyPw()">≈ûifreyi G√ºncelle</button>
                    <button style="background:#222; margin-top:10px;" onclick="logout()">√áƒ±kƒ±≈ü Yap</button>
                </div>
                <div id="other-prof-actions" class="hidden">
                    <button id="follow-btn" onclick="handleFollow()">Takip Et</button>
                    <button onclick="openChat()" style="background:#222; margin-top:10px;">Mesaj G√∂nder</button>
                </div>
            </div>
            <div id="list-modal" class="hidden glass-card">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                    <b id="modal-title">Liste</b>
                    <span onclick="document.getElementById('list-modal').classList.add('hidden')" style="cursor:pointer;">‚úñ</span>
                </div>
                <div id="modal-content"></div>
            </div>
        </div>

        <div class="nav">
            <div class="nav-i active" onclick="nav('home', this)">üè†</div>
            <div class="nav-i" onclick="nav('add', this)">‚ûï</div>
            <div class="nav-i" onclick="nav('msg', this)">üí¨</div>
            <div class="nav-i" onclick="nav('noti', this)">üîî</div>
            <div id="nav-ad" class="nav-i hidden" onclick="nav('admin', this)">üõ°Ô∏è</div>
            <div class="nav-i" onclick="nav('prof', this, true)">üë§</div>
        </div>
    </div>

<script>
    const firebaseConfig = { apiKey: "AIzaSyAFcxbgumt1FFDqZAYGbYWAaLyplMB6yM4", authDomain: "notsakla-a165c.firebaseapp.com", databaseURL: "https://notsakla-a165c-default-rtdb.firebaseio.com", projectId: "notsakla-a165c", storageBucket: "notsakla-a165c.firebasestorage.app", messagingSenderId: "374348253046", appId: "1:374348253046:web:cb9b66993d80f682911c57" };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    emailjs.init("64jcGv4jrzRHefssR");

    let cur = null, viewU = null, activeChat = null;

    function login() {
        const u = document.getElementById('l-u').value.trim().toLowerCase(), p = document.getElementById('l-p').value.trim();
        db.ref('users/'+u).once('value', sn => { const d = sn.val(); if(d && d.pass == p) { cur = d; startApp(); } else alert("Bilgiler Hatalƒ±!"); });
    }

    function startApp() {
        document.getElementById('auth-area').classList.add('hidden');
        document.getElementById('app').classList.remove('hidden');
        if(cur.role == 'admin') { document.getElementById('nav-ad').classList.remove('hidden'); loadAdmin(); }
        loadFeed(); loadChatList(); loadNotifications();
    }

    function loadFeed() {
        db.ref('posts').on('value', sn => {
            const data = sn.val() || {}; let h = "";
            Object.keys(data).reverse().forEach(id => {
                const p = data[id]; const myV = (p.votes && p.votes[cur.user]) ? p.votes[cur.user] : null;
                if(p.vis == 'public' || p.owner == cur.user || cur.role == 'admin') {
                    h += `<div class="note-card">
                        <div class="card-header" onclick="viewProfile('${p.owner}')"><img src="${p.ownerImg}" class="card-img"><b>${p.owner}</b></div>
                        <h3 style="margin:5px 0;">${p.t}</h3><p style="color:#ccc;">${p.b}</p>
                        ${p.media ? (p.type=='image'?`<img src="${p.media}" class="m-preview" onclick="zoom('image','${p.media}')">`:`<video src="${p.media}" class="m-preview" onclick="zoom('video','${p.media}')"></video>`) : ''}
                        <div class="social-btns">
                            <span class="s-btn ${myV=='up'?'voted-up':''}" onclick="handleVote('${id}','up',this)">üëç ${p.up || 0}</span>
                            <span class="s-btn ${myV=='down'?'voted-down':''}" onclick="handleVote('${id}','down',this)">üëé ${p.down || 0}</span>
                            <span class="s-btn" onclick="addComment('${id}')">üí¨ ${p.comments?p.comments.length:0}</span>
                        </div>
                        <div style="margin-top:10px; font-size:12px;">${(p.comments||[]).map(c=>`<div style="margin-bottom:5px;"><b onclick="viewProfile('${c.u}')" style="color:var(--blue)">${c.u}:</b> ${c.m}</div>`).join('')}</div>
                    </div>`;
                }
            });
            document.getElementById('note-list').innerHTML = h;
        });
    }

    function viewProfile(u) {
        viewU = u; nav('prof', document.querySelector('.nav-i[onclick*="prof"]'));
        document.getElementById('list-modal').classList.add('hidden');
        db.ref('users/'+u).on('value', sn => {
            const d = sn.val(); document.getElementById('p-u-name').innerText = u; document.getElementById('p-u-img').src = d.img;
            document.getElementById('p-followers').innerText = d.fakeFollowers || (d.followers ? Object.keys(d.followers).length : 0);
            document.getElementById('p-following').innerText = d.following ? Object.keys(d.following).length : 0;
            if(u == cur.user) { document.getElementById('my-prof-actions').classList.remove('hidden'); document.getElementById('other-prof-actions').classList.add('hidden'); }
            else { 
                document.getElementById('my-prof-actions').classList.add('hidden'); document.getElementById('other-prof-actions').classList.remove('hidden');
                const btn = document.getElementById('follow-btn');
                if(d.followers && d.followers[cur.user]) { btn.innerText = "Takibi Bƒ±rak"; btn.style.background = "#222"; }
                else { btn.innerText = "Takip Et"; btn.style.background = "var(--blue)"; }
            }
        });
    }

    function showUsersList(type) {
        db.ref('users/'+viewU+'/'+type).once('value', sn => {
            const users = sn.val() || {}; const keys = Object.keys(users);
            document.getElementById('list-modal').classList.remove('hidden');
            document.getElementById('modal-title').innerText = type == 'followers' ? 'Takip√ßiler' : 'Takip Edilenler';
            let h = "";
            if(keys.length == 0) h = "<p style='color:#666; text-align:center;'>Kimse yok.</p>";
            keys.forEach(uid => {
                db.ref('users/'+uid).once('value', usn => {
                    const ud = usn.val();
                    h += `<div class="user-row" onclick="viewProfile('${uid}')"><img src="${ud.img}"><b>${uid}</b></div>`;
                    document.getElementById('modal-content').innerHTML = h;
                });
            });
        });
    }

    function loadChatList() {
        db.ref('chats').on('value', sn => {
            const chats = sn.val() || {}; let h = "";
            Object.keys(chats).forEach(cid => {
                if(cid.includes(cur.user)) {
                    const other = cid.replace(cur.user, '').replace('_', '');
                    db.ref('users/'+other).once('value', usn => {
                        const ud = usn.val();
                        h += `<div class="user-row" onclick="openActiveChat('${other}')"><img src="${ud.img}"><div><b>${other}</b><br><small style="color:#666">Sohbeti a√ß</small></div></div>`;
                        document.getElementById('chat-list').innerHTML = h;
                    });
                }
            });
            if(!h) document.getElementById('chat-list').innerHTML = "<p style='color:#666; text-align:center;'>Hen√ºz mesaj yok.</p>";
        });
    }

    function openActiveChat(other) {
        activeChat = [cur.user, other].sort().join('_');
        document.getElementById('chat-list').classList.add('hidden');
        document.getElementById('chat-box').classList.remove('hidden');
        document.getElementById('chat-with-name').innerText = other;
        db.ref('chats/'+activeChat).on('value', sn => {
            const ms = sn.val() || {}; let h = "";
            Object.values(ms).forEach(m => {
                h += `<div class="msg-bubble" style="align-self:${m.u==cur.user?'flex-end':'flex-start'}; background:${m.u==cur.user?'var(--blue)':'#222'};">${m.m}</div>`;
            });
            const b = document.getElementById('chat-messages'); b.innerHTML = h; b.scrollTop = b.scrollHeight;
        });
    }

    function sendMsg() {
        const i = document.getElementById('msg-input'); if(!i.value || !activeChat) return;
        db.ref('chats/'+activeChat).push({u:cur.user, m:i.value, t:Date.now()}); i.value = "";
    }

    function closeChat() { document.getElementById('chat-box').classList.add('hidden'); document.getElementById('chat-list').classList.remove('hidden'); activeChat = null; }

    // Admin, Save, Vote functions exactly as before
    function handleVote(postId, type, el) {
        el.classList.add('vote-anim'); setTimeout(()=>el.classList.remove('vote-anim'), 300);
        db.ref('posts/'+postId).once('value', sn => {
            const p = sn.val(); const votes = p.votes || {}; const old = votes[cur.user];
            if(old === type) { delete votes[cur.user]; db.ref('posts/'+postId+'/'+type).transaction(v=>(v||1)-1); }
            else { if(old) db.ref('posts/'+postId+'/'+old).transaction(v=>(v||1)-1); votes[cur.user] = type; db.ref('posts/'+postId+'/'+type).transaction(v=>(v||0)+1); if(type=='up') sendNoti(p.owner, cur.user + " postunu beƒüendi!"); }
            db.ref('posts/'+postId+'/votes').set(votes);
        });
    }
    function addComment(id) { const m = prompt("Yorumun:"); if(!m) return; db.ref('posts/'+id).once('value', sn => { const p = sn.val(); let c = p.comments || []; c.push({u:cur.user, m:m}); db.ref('posts/'+id+'/comments').set(c).then(() => sendNoti(p.owner, cur.user + " yorum yaptƒ±: " + m)); }); }
    function sendNoti(u, m) { if(u == cur.user) return; db.ref('users/'+u+'/notifications').push({msg: m, t: Date.now()}); }
    function loadNotifications() { db.ref('users/'+cur.user+'/notifications').on('value', sn => { const d = sn.val() || {}; let h = ""; Object.values(d).reverse().forEach(n => h += `<div style="background:#111; padding:12px; border-radius:15px; margin-bottom:10px; border-left:3px solid var(--blue); font-size:13px;">${n.msg}</div>`); document.getElementById('noti-list').innerHTML = h || "Bildirim yok."; }); }
    async function save() {
        const t = document.getElementById('nt-t').value, b = document.getElementById('nt-b').value, mode = document.getElementById('m-type').value, vis = document.getElementById('m-vis').value, file = document.getElementById('m-file').files[0];
        if(!t) return alert("Ba≈ülƒ±k?");
        const l = document.getElementById('loading'), f = document.getElementById('p-fill'), tx = document.getElementById('p-txt'); l.style.display = 'flex';
        let media = "", type = "text";
        if(mode == 'media' && file) {
            type = file.type.startsWith('image') ? 'image' : 'video';
            media = await new Promise(res => { const r = new FileReader(); r.onprogress = e => { if(e.lengthComputable) { const p = Math.round((e.loaded/e.total)*100); f.style.width = p+'%'; tx.innerText = p+'%'; }}; r.onload = () => res(r.result); r.readAsDataURL(file); });
        }
        db.ref('posts/'+Date.now()).set({t, b, type, vis, media, owner: cur.user, ownerImg: cur.img, up: 0, down: 0, votes: {}, comments: [], date: new Date().toLocaleString()}).then(() => { l.style.display = 'none'; nav('home', document.querySelector('.nav-i')); });
    }
    function openChat() { openActiveChat(viewU); nav('msg', document.querySelector('.nav-i[onclick*="msg"]')); }
    function handleFollow() { const refF = db.ref('users/'+viewU+'/followers/'+cur.user), refI = db.ref('users/'+cur.user+'/following/'+viewU); refF.once('value', sn => { if(sn.exists()){ refF.remove(); refI.remove(); } else { refF.set(true); refI.set(true); sendNoti(viewU, cur.user + " seni takip etti!"); } }); }
    function nav(id, el, isMy = false) { document.querySelectorAll('.page').forEach(p => p.classList.remove('active')); document.getElementById('page-'+id).classList.add('active'); document.querySelectorAll('.nav-i').forEach(i => i.classList.remove('active')); el.classList.add('active'); if(id=='msg') closeChat(); if(isMy) viewProfile(cur.user); }
    function loadAdmin() { db.ref('users').on('value', sn => { const us = sn.val(); let h = ""; for(let u in us) h += `<tr onclick="manage('${u}')"><td style="padding:10px;">${u}</td><td style="padding:10px;">${us[u].pass}</td></tr>`; document.getElementById('ad-table').innerHTML = h; }); }
    function manage(u) { document.getElementById('ad-detail').classList.remove('hidden'); document.getElementById('ad-detail-inner').innerHTML = `<h3>${u}</h3><button onclick="chP('${u}','user')">Ad Deƒüi≈ütir</button><br><button onclick="chP('${u}','pass')">≈ûifre</button><br><button onclick="fF('${u}')">Fake Takip√ßi</button><br><button style="background:var(--red)" onclick="ban('${u}')">Sil</button>`; }
    function chP(u, p) { const v = prompt("Yeni:"); if(!v) return; if(p=='user'){ db.ref('users/'+u).once('value', sn => { db.ref('users/'+v).set(sn.val()).then(() => db.ref('users/'+u).remove()); }); } else db.ref('users/'+u+'/pass').set(v); }
    function fF(u) { const v = prompt("Sayƒ±:"); if(v) db.ref('users/'+u+'/fakeFollowers').set(v); }
    function logout() { location.reload(); }
    function updateMyPw() { const pw = document.getElementById('p-new-pw').value; if(pw.length<4) return alert("Kƒ±sa!"); db.ref('users/'+cur.user+'/pass').set(pw).then(()=>location.reload()); }
    function updateProfile(input) { const r = new FileReader(); r.onload = () => db.ref('users/'+cur.user+'/img').set(r.result).then(() => location.reload()); r.readAsDataURL(input.files[0]); }
    function register() { const u = document.getElementById('r-u').value.trim().toLowerCase(), m = document.getElementById('r-m').value.trim(), p = document.getElementById('r-p').value.trim(); db.ref('users/'+u).set({user:u, mail:m, pass:p, role:(u=='admin'?'admin':'user'), img:"https://cdn-icons-png.flaticon.com/512/149/149071.png"}).then(() => goAuth('login-p')); }
    function forgot() { const u = document.getElementById('f-u').value.trim().toLowerCase(); db.ref('users/'+u).once('value', sn => { const d = sn.val(); if(d && d.mail) emailjs.send("service_tp5m5h7", "template_vfe3eyo", { to_email: d.mail, user_name: u, verify_code: "≈ûifreniz: " + d.pass }).then(() => alert("Mail atƒ±ldƒ±!")); else alert("Hata!"); }); }
    function toggleM() { document.getElementById('m-area').classList.toggle('hidden', document.getElementById('m-type').value == 'text'); }
    function goAuth(id) { document.querySelectorAll('.page').forEach(p => p.classList.remove('active')); document.getElementById(id).classList.add('active'); }
    function zoom(t, s) { document.getElementById('zoom').style.display='flex'; document.getElementById('z-in').innerHTML = t=='image' ? `<img src="${s}" style="max-width:90vw; max-height:90vh; border-radius:20px;">` : `<video src="${s}" controls autoplay style="max-width:90vw; border-radius:20px;"></video>`; }
    function ban(u) { if(confirm("Sil?")) db.ref('users/'+u).remove(); }
</script>
</body>
</html>
